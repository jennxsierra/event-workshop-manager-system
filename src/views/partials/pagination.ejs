<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
        <li class="page-item <%= pagination.currentPage === 1 ? 'disabled' : '' %>">
            <a class="page-link" href="<%= pagination.baseUrl %>?page=1<%= pagination.queryParams %>" aria-label="First">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        <li class="page-item <%= pagination.currentPage === 1 ? 'disabled' : '' %>">
            <a class="page-link" href="<%= pagination.baseUrl %>?page=<%= pagination.currentPage - 1 %><%= pagination.queryParams %>" aria-label="Previous">
                <span aria-hidden="true">&lsaquo;</span>
            </a>
        </li>
        
        <% let startPage = Math.max(1, pagination.currentPage - 2); %>
        <% let endPage = Math.min(pagination.totalPages, startPage + 4); %>
        <% if (endPage - startPage < 4 && pagination.totalPages > 5) { %>
            <% startPage = Math.max(1, endPage - 4); %>
        <% } %>
        
        <% for(let i = startPage; i <= endPage; i++) { %>
            <li class="page-item <%= i === pagination.currentPage ? 'active' : '' %>">
                <a class="page-link" href="<%= pagination.baseUrl %>?page=<%= i %><%= pagination.queryParams %>"><%= i %></a>
            </li>
        <% } %>
        
        <li class="page-item <%= pagination.currentPage === pagination.totalPages ? 'disabled' : '' %>">
            <a class="page-link" href="<%= pagination.baseUrl %>?page=<%= pagination.currentPage + 1 %><%= pagination.queryParams %>" aria-label="Next">
                <span aria-hidden="true">&rsaquo;</span>
            </a>
        </li>
        <li class="page-item <%= pagination.currentPage === pagination.totalPages ? 'disabled' : '' %>">
            <a class="page-link" href="<%= pagination.baseUrl %>?page=<%= pagination.totalPages %><%= pagination.queryParams %>" aria-label="Last">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
    <div class="text-center mt-2 small text-muted">
        Showing page <%= pagination.currentPage %> of <%= pagination.totalPages %>
        <% if (pagination.totalItems) { %>
            | Total items: <%= pagination.totalItems %>
        <% } %>
    </div>
</nav>